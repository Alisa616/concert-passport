<!-- app/templates/concerts.html -->
{% extends 'base.html' %}

{% block title %}Концерты - {{ super() }}{% endblock %}

{% block content %}
<div class="container my-5">
    <h2 class="mb-4 text-center">Список концертов</h2>

    {% if concerts %}
        <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
            {% for concert in concerts %}
                <div class="col">
                    <div class="card h-100 shadow-sm">
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title">{{ concert.artist.name }}</h5>
                            <p class="card-text flex-grow-1">
                                <strong>Город:</strong> {{ concert.city }}<br>
                                <strong>Дата:</strong> {{ concert.event_date.strftime('%d.%m.%Y') }}<br>
                                <strong>Место:</strong> {{ concert.venue or 'Не указано' }}<br>
                                <strong>Жанр:</strong> {{ concert.artist.genre }}
                            </p>
                            <a href="{{ url_for('concert_detail', concert_id=concert.id) }}"
                               class="btn btn-primary mt-auto">Подробнее</a>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="text-center">
            <p class="lead">Концерты пока не запланированы.</p>
            {% if not current_user.is_authenticated %}
                <p><a href="{{ url_for('login') }}" class="btn btn-outline-primary">Войти</a> чтобы добавить концерт</p>
            {% endif %}
        </div>
    {% endif %}
</div>
{% endblock %}